<?xml version="1.0" encoding="utf-8" ?>
<ContentPage x:Class="Travelogue_2.Main.Views.Library.LibraryView"
             xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Travelogue_2.Main.Views.Fragments"
             x:Name="LibraryViewName">
    
    <ContentPage.Content>
        <StackLayout Padding="10,10,10,5" BackgroundColor="{DynamicResource PrimaryFaded}">
            
            <Frame Padding="5">

                <StackLayout>
                    <Grid HeightRequest="120">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Text="{Binding Resources[CreatedJourneys]}" FontSize="Title" VerticalTextAlignment="Center" HorizontalOptions="Center"/>
                        <Label Grid.Column="1" Text="&#xea42;" FontFamily="{StaticResource Icon}" FontSize="Title"  VerticalTextAlignment="Center" HorizontalOptions="Center"
                               TextColor="{DynamicResource Primary}">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding CreatedJourneysViewCommand}"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </Grid>

                    <CarouselView ItemsSource="{Binding JourneysCreated}" EmptyView="{Binding Resources[CreatedEmpty]}" 
                                PeekAreaInsets="50" Loop="False" HorizontalOptions="StartAndExpand" Position="0">
                        <CarouselView.ItemsLayout>
                            <LinearItemsLayout Orientation="Horizontal" />
                        </CarouselView.ItemsLayout>

                        <CarouselView.ItemTemplate>
                            <DataTemplate>

                                <local:JourneyCardView BindingContext="{Binding .}">
                                    <local:JourneyCardView.GestureRecognizers>
                                        <TapGestureRecognizer 
                                            Command="{Binding Path=BindingContext.JourneyTapped, Source={x:Reference LibraryViewName}}"		
                                            CommandParameter="{Binding .}"/>
                                    </local:JourneyCardView.GestureRecognizers>
                                </local:JourneyCardView>

                            </DataTemplate>
                        </CarouselView.ItemTemplate>
                    </CarouselView>
                </StackLayout>

            </Frame>

            <Frame Padding="5">
                
                <StackLayout>
                    <Grid HeightRequest="120">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Label Grid.Column="0" Text="{Binding Resources[ClosedJourneys]}" FontSize="Title" VerticalTextAlignment="Center" HorizontalOptions="Center" HeightRequest="40"/>
                        <Label Grid.Column="1" Text="&#xea42;" FontFamily="{StaticResource Icon}" FontSize="Title"  VerticalTextAlignment="Center" HorizontalOptions="Center"
                               TextColor="{StaticResource Primary}">
                            <Label.GestureRecognizers>
                                <TapGestureRecognizer Command="{Binding ClosedJourneysViewCommand}"/>
                            </Label.GestureRecognizers>
                        </Label>
                    </Grid>

                    <CarouselView ItemsSource="{Binding JourneysClosed}" EmptyView="{Binding Resources[ClosedEmpty]}" 
                                  PeekAreaInsets="50" Loop="False" HorizontalOptions="StartAndExpand" Position="0">
                        <CarouselView.ItemsLayout>
                            <LinearItemsLayout Orientation="Horizontal" />
                        </CarouselView.ItemsLayout>

                        <CarouselView.ItemTemplate>
                            <DataTemplate>

                                <local:JourneyCardView BindingContext="{Binding .}">
                                    <local:JourneyCardView.GestureRecognizers>
                                        <TapGestureRecognizer 
                                            Command="{Binding Path=BindingContext.JourneyTapped, Source={x:Reference LibraryViewName}}"		
                                            CommandParameter="{Binding .}"/>
                                    </local:JourneyCardView.GestureRecognizers>
                                </local:JourneyCardView>

                            </DataTemplate>
                        </CarouselView.ItemTemplate>
                    </CarouselView>
                </StackLayout>
                
            </Frame>
        </StackLayout>
    </ContentPage.Content>
    
</ContentPage>
    
<!--
    


-->