<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Travelogue_2.Main.Views.Library.CreatedJourneysView"
             xmlns:local="clr-namespace:Travelogue_2.Main.Views.Fragments">

    <ContentPage.Content>
        <AbsoluteLayout>

            <Grid Padding="10,10,10,5">
                
                <ScrollView Orientation="Vertical">

                    <StackLayout>

                        <Button Text="{Binding Resources[CreatedJourneys]}"
                            IsEnabled="False"/>

                        <CollectionView x:Name="CreatedJourneysCollection"
                                        ItemsSource="{Binding JourneysCreated}"
                                        SelectionMode="Single"
                                        SelectionChangedCommand="{Binding JourneyTapped}"
                                        SelectionChangedCommandParameter="{Binding SelectedItem, Source={x:Reference StartJournalsCollection}}">
                                
                            <CollectionView.ItemsLayout>
                                <GridItemsLayout Orientation="Vertical"
                                            Span="2"/>
                            </CollectionView.ItemsLayout>

                            <CollectionView.ItemTemplate>
                                <DataTemplate>

                                    <AbsoluteLayout>

                                        <local:JourneyBookView BindingContext="{Binding .}"/>

                                        <Button x:Name="DeleteJourneyButton" 
                                                Style="{StaticResource circleButtonDeleteStyle}"
                                                HorizontalOptions="StartAndExpand"  Text="&#xea0f;" FontFamily="{StaticResource Icon}" 
                                                Command="{Binding JourneyTappedDelete}"
                                                CommandParameter="{Binding .}"/>

                                    </AbsoluteLayout>

                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>

                    </StackLayout>
                </ScrollView>

            </Grid>

            <Button x:Name="CreateJourneyButton" 
                    Style="{StaticResource circleButtonAddStyle}"
                    Command="{Binding CreateJourneyCommand}"
                    HorizontalOptions="StartAndExpand"  Text="&#xea0a;" FontFamily="{StaticResource Icon}" />
        </AbsoluteLayout>
    </ContentPage.Content>

</ContentPage>